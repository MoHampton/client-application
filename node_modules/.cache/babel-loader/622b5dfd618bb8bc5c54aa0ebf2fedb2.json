{"ast":null,"code":"var _jsxFileName = \"/Users/moxiehampton/IdeaProjects/Metropolitan-Covention-Center-Application/client-application/src/components/RegistrationForm.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { updateRegistrationFormObject } from '../actions';\nimport { updateRegistrationFormUsage } from '../actions';\nimport { addRegistration, selectRegistration } from '../actions';\nimport RestAPI from '../rest';\nimport { deleteRegistration } from '../actions';\nimport EventDropDown from './EventDropDown';\nimport CustomerDropDown from './CustomerDropDown';\nconst restapi = new RestAPI();\n\nfunction convertDate(date_number) {\n  let date_string = new Date(date_number).toISOString().substring(0, 10);\n  return date_string;\n}\n\nconst RegistrationForm = ({\n  registration,\n  usage,\n  handleChange,\n  handleRegistrationEditClick,\n  handleEditCancelClick,\n  handleRegistrationSaveClick,\n  events,\n  customers,\n  handleRegistrationDeleteClick\n}) => {\n  let rdate = convertDate(registration.registration_date);\n  return React.createElement(\"div\", {\n    id: \"registration-form\",\n    className: \"card bg-light\",\n    hidden: usage === 'none',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"card-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, \"Register for an Event\"), React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Event:\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(EventDropDown, {\n    events: events,\n    selectedEventId: registration.event_id,\n    onSelectedEvent: handleChange,\n    usage: usage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }))), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Customer:\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(CustomerDropDown, {\n    customers: customers,\n    selectedCustomerId: registration.customer_id,\n    onSelectedCustomer: handleChange,\n    usage: usage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }))), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"RegistrationDate:\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: 'date',\n    name: 'registration_date',\n    onChange: handleChange,\n    placeholder: 'Registration Date',\n    value: rdate,\n    disabled: usage === 'none' || usage === 'view',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }))), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Notes:\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: 'text',\n    name: 'notes',\n    onChange: handleChange,\n    placeholder: 'Notes',\n    value: registration.notes,\n    disabled: usage === 'none' || usage === 'view',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }))))), React.createElement(\"input\", {\n    type: 'button',\n    value: \"Delete\",\n    onClick: e => handleRegistrationDeleteClick(e, registration),\n    hidden: usage === 'none' || usage === 'view' || usage === 'add',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: 'button',\n    value: \"Save\",\n    onClick: e => handleRegistrationSaveClick(e, registration),\n    hidden: usage === 'none' || usage === 'view',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: 'button',\n    value: \"Cancel\",\n    onClick: e => handleEditCancelClick(e, registration),\n    hidden: usage === 'none' || usage === 'view',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: 'button',\n    value: \"Edit\",\n    onClick: e => handleRegistrationEditClick(e, registration),\n    hidden: usage === 'none' || usage === 'edit' || usage === 'add',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }))));\n};\n\nRegistrationForm.propTypes = {\n  registration: PropTypes.shape({\n    event_id: PropTypes.string.isRequired,\n    customer_id: PropTypes.string.isRequired,\n    registration_date: PropTypes.number.isRequired\n  }).isRequired\n};\n\nconst mapStateToProps = state => {\n  return {\n    registration: state.formState.registration,\n    usage: state.formState.usage,\n    appState: state.appState,\n    customers: state.customers,\n    events: state.events\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleChange: e => {\n      const field_name = e.currentTarget.name;\n      let field_value = '';\n\n      if (field_name === 'registration_date') {\n        field_value = new Date(e.currentTarget.value).getTime();\n      } else {\n        field_value = e.currentTarget.value;\n      }\n\n      dispatch(updateRegistrationFormObject(field_name, field_value));\n    },\n    handleRegistrationEditClick: (e, registration, usage) => {\n      console.log(\"in RegistrationForm.handleRegistrationEditClick\");\n      dispatch(updateRegistrationFormUsage('edit', registration));\n    },\n    handleEditCancelClick: (e, registration, usage) => {\n      console.log(\"in RegistrationForm.handleEditCancelClick\");\n      dispatch(updateRegistrationFormUsage('view', registration));\n    },\n    handleRegistrationSaveClick: (e, registration, usage) => {\n      console.log(\"in RegistrationForm.handleRegistrationSaveClick: \" + JSON.stringify(registration));\n      dispatch(addRegistration(registration));\n\n      if (usage === 'add') {\n        dispatch(selectRegistration(registration));\n      }\n\n      dispatch(updateRegistrationFormUsage('none'));\n      restapi.putRegistration(dispatch, registration);\n    },\n    handleRegistrationDeleteClick: (e, registration) => {\n      console.log(\"in RegistrationForm.handleRegistrationDeleteClick\");\n      console.log(\"registration: \" + JSON.stringify(registration));\n      dispatch(deleteRegistration(registration));\n      dispatch(updateRegistrationFormUsage('none'));\n      restapi.deleteRegistration(dispatch, registration);\n    }\n  };\n};\n\nconst VisibleRegistrationForm = connect(mapStateToProps, mapDispatchToProps)(RegistrationForm);\nexport default VisibleRegistrationForm;","map":{"version":3,"sources":["/Users/moxiehampton/IdeaProjects/Metropolitan-Covention-Center-Application/client-application/src/components/RegistrationForm.js"],"names":["React","connect","PropTypes","updateRegistrationFormObject","updateRegistrationFormUsage","addRegistration","selectRegistration","RestAPI","deleteRegistration","EventDropDown","CustomerDropDown","restapi","convertDate","date_number","date_string","Date","toISOString","substring","RegistrationForm","registration","usage","handleChange","handleRegistrationEditClick","handleEditCancelClick","handleRegistrationSaveClick","events","customers","handleRegistrationDeleteClick","rdate","registration_date","event_id","customer_id","notes","e","propTypes","shape","string","isRequired","number","mapStateToProps","state","formState","appState","mapDispatchToProps","dispatch","field_name","currentTarget","name","field_value","value","getTime","console","log","JSON","stringify","putRegistration","VisibleRegistrationForm"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { updateRegistrationFormObject } from '../actions'\r\nimport { updateRegistrationFormUsage } from '../actions'\r\nimport { addRegistration, selectRegistration } from '../actions'\r\nimport RestAPI from '../rest';\r\nimport { deleteRegistration } from '../actions'\r\nimport EventDropDown from './EventDropDown';\r\nimport CustomerDropDown from './CustomerDropDown';\r\n\r\nconst restapi = new RestAPI();\r\n\r\nfunction convertDate(date_number){\r\n  let date_string = new Date(date_number).toISOString().substring(0,10);\r\n  return date_string;\r\n}\r\n\r\nconst RegistrationForm = ({ registration, usage, handleChange, handleRegistrationEditClick,\r\n  handleEditCancelClick, handleRegistrationSaveClick, events, customers,  \r\n  handleRegistrationDeleteClick }) => {\r\n  let rdate = convertDate(registration.registration_date);\r\n  return (\r\n    <div id='registration-form'  className='card bg-light' hidden={ usage === 'none'} >\r\n      <div>\r\n        <h4 className='card-header'>Register for an Event</h4> \r\n        <form >\r\n          <table className='table'><tbody>\r\n            <tr>\r\n              <td>Event:</td>\r\n                <td>\r\n                  <EventDropDown events={events} \r\n                    selectedEventId={registration.event_id} \r\n                    onSelectedEvent={handleChange}\r\n                    usage = {usage} \r\n                  ></EventDropDown>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Customer:</td>\r\n              <td>\r\n                  <CustomerDropDown customers={customers} \r\n                    selectedCustomerId={registration.customer_id} \r\n                    onSelectedCustomer={handleChange} \r\n                    usage = {usage} \r\n                  ></CustomerDropDown>\r\n              </td>              \r\n            </tr>\r\n            <tr>\r\n              <td>RegistrationDate:</td>\r\n              <td><input type={'date'} name={'registration_date'} onChange={handleChange}\r\n                placeholder={'Registration Date'}\r\n                value={rdate} disabled={usage === 'none' || usage === 'view'} /></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Notes:</td>\r\n              <td><input type={'text'} name={'notes'} onChange={handleChange}\r\n                placeholder={'Notes'}\r\n                value={registration.notes} disabled={usage === 'none' || usage === 'view'} /></td>\r\n            </tr>\r\n          </tbody></table>\r\n          <input type={'button'} value=\"Delete\"\r\n            onClick={(e) => handleRegistrationDeleteClick(e, registration)}\r\n            hidden={usage === 'none' || usage === 'view' || usage === 'add'} />\r\n          <input type={'button'} value=\"Save\" onClick={(e) => handleRegistrationSaveClick(e, registration)} hidden={usage === 'none' || usage === 'view'} />\r\n          <input type={'button'} value=\"Cancel\" onClick={(e) => handleEditCancelClick(e, registration)} hidden={usage === 'none' || usage === 'view'} />\r\n          <input type={'button'} value=\"Edit\" onClick={(e) => handleRegistrationEditClick(e, registration)} hidden={usage === 'none' || usage === 'edit' || usage === 'add'} />\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nRegistrationForm.propTypes = {\r\n  registration: PropTypes.shape({\r\n    event_id: PropTypes.string.isRequired,\r\n    customer_id: PropTypes.string.isRequired,\r\n    registration_date: PropTypes.number.isRequired\r\n  }).isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    registration: state.formState.registration,\r\n    usage: state.formState.usage,\r\n    appState: state.appState,\r\n    customers: state.customers,\r\n    events: state.events    \r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    handleChange: (e) => {\r\n      const field_name = e.currentTarget.name;\r\n      let field_value = '';\r\n      if(field_name === 'registration_date'){\r\n        field_value = new Date(e.currentTarget.value).getTime();\r\n      }else{\r\n        field_value = e.currentTarget.value;\r\n      }\r\n      dispatch(updateRegistrationFormObject(field_name, field_value));\r\n    },\r\n    handleRegistrationEditClick: (e, registration, usage) => {\r\n      console.log(\"in RegistrationForm.handleRegistrationEditClick\");\r\n      dispatch(updateRegistrationFormUsage('edit', registration));\r\n    },\r\n    handleEditCancelClick: (e, registration, usage) => {\r\n      console.log(\"in RegistrationForm.handleEditCancelClick\");\r\n      dispatch(updateRegistrationFormUsage('view', registration));\r\n    },\r\n    handleRegistrationSaveClick: (e, registration, usage) => {\r\n      console.log(\"in RegistrationForm.handleRegistrationSaveClick: \" \r\n                    + JSON.stringify(registration));\r\n      dispatch(addRegistration(registration));\r\n      if (usage === 'add') {\r\n        dispatch(selectRegistration(registration));\r\n      }\r\n      dispatch(updateRegistrationFormUsage('none'));\r\n      restapi.putRegistration(dispatch, registration);\r\n    },\r\n    handleRegistrationDeleteClick: (e, registration) => {\r\n      console.log(\"in RegistrationForm.handleRegistrationDeleteClick\");\r\n      console.log(\"registration: \" + JSON.stringify(registration));\r\n      dispatch(deleteRegistration(registration));\r\n      dispatch(updateRegistrationFormUsage('none'));\r\n      restapi.deleteRegistration(dispatch, registration);\r\n    }\r\n  }\r\n}\r\n\r\nconst VisibleRegistrationForm = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(RegistrationForm)\r\n\r\nexport default VisibleRegistrationForm"]},"metadata":{},"sourceType":"module"}